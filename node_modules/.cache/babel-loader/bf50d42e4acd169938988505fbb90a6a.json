{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import Form from'react-bootstrap/Form';import'../UserAccount/login.css';import googleIcon from'../../Images/google-symbol.png';import facebookIcon from'../../Images/facebook-icon.png';import Cookies from'js-cookie';function Login(){window.onload=function(){console.log(\"hiding the elements\");//const elements = document.getElementsByClassName('.smart-living, .footer, sidenav_sidenav__3d27F');\n//elements.style.display = 'none';\n};const[formData,setFormData]=useState({email:\"\",password:\"\"});const handleChange=event=>{setFormData({...formData,[event.target.name]:event.target.value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('https://localhost:44311/api/controller/login',formData);//alert(\"Login Successful\" + JSON.stringify(response.data.adminRole));\nconst username=response.data.userEmail;alert(\"Welcome - > \"+JSON.stringify(response.data.userEmail));if(username!=null){const token=response.data.userEmail;localStorage.setItem('key',JSON.stringify(token));const storedData=localStorage.getItem('key');const parsedData=JSON.parse(storedData);//setAuthToken(token);\nconsole.log(\"This is the token\"+storedData);alert(\"Token is now set to - > \"+parsedData);window.location.href='/';console.log(JSON.stringify(response.data));Cookies.set('token',token,{expires:7,secure:true});// console.log(\"token is being set\");\n}else{console.log(\"Incorrect User credentials\");}}catch(error){console.log(\"could not post the login API\");}//console.log(\"Sign in Successful\" + response.data);\nconsole.log(\"Api Works\");//console.log(response.data);\n};return/*#__PURE__*/React.createElement(\"div\",{className:\"container bodyContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\" If you do have account, Please \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\" Sign up \")),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(\"div\",{class:\"loginForm\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\" Email address\",/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange,name:\"email\",value:formData.email,type:\"email\",placeholder:\"Enter your email address\"})),/*#__PURE__*/React.createElement(\"label\",null,\" Password\",/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange,value:formData.password,type:\"password\",name:\"password\",placeholder:\"Enter your password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-success \"},\"  Login \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"otherSignIn\"},/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"loginRow\"},/*#__PURE__*/React.createElement(\"img\",{className:\"loginIcons\",src:googleIcon,alt:\"Logo\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"contGoogle\"},\" Continue with Google \"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\" \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\" Forgot Password? \")),\"This site is protected by reCAPTCHA and the Google \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"googleTerms\"},\" Privacy Policy \"),\" and \",/*#__PURE__*/React.createElement(\"a\",{href:\"\",className:\"googleTerms\"},\"Terms of Service apply.\"))));}export default Login;","map":{"version":3,"names":["React","useState","useEffect","axios","Button","Modal","Form","googleIcon","facebookIcon","Cookies","Login","window","onload","console","log","formData","setFormData","email","password","handleChange","event","target","name","value","handleSubmit","e","preventDefault","response","post","username","data","userEmail","alert","JSON","stringify","token","localStorage","setItem","storedData","getItem","parsedData","parse","location","href","set","expires","secure","error","createElement","className","class","onSubmit","onChange","type","placeholder","src","alt"],"sources":["C:/Users/User/Desktop/React_Native_Projects/smart_living_web/src/pages/UserAccount/login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nimport '../UserAccount/login.css';\r\n\r\nimport googleIcon from '../../Images/google-symbol.png';\r\nimport facebookIcon from '../../Images/facebook-icon.png';\r\n\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction Login(){\r\n\r\n    window.onload = function () {\r\n        console.log(\"hiding the elements\");\r\n        //const elements = document.getElementsByClassName('.smart-living, .footer, sidenav_sidenav__3d27F');\r\n        //elements.style.display = 'none';\r\n    }; \r\n\r\n    \r\n        const [formData,setFormData] = useState({\r\n            email:\"\",\r\n            password: \"\",\r\n        });\r\n\r\n        const handleChange = event => { setFormData ({ ...formData, [event.target.name] : event.target.value });     }\r\n    \r\n        const handleSubmit = async(e) => {\r\n            e.preventDefault();\r\n\r\n            try{\r\n                const response = await axios.post('https://localhost:44311/api/controller/login', formData );\r\n                //alert(\"Login Successful\" + JSON.stringify(response.data.adminRole));\r\n                const username = response.data.userEmail;\r\n                alert(\"Welcome - > \" + JSON.stringify(response.data.userEmail));\r\n                if(username != null){\r\n                    const token = response.data.userEmail;\r\n                    localStorage.setItem('key', JSON.stringify(token));\r\n\r\n                    const storedData = localStorage.getItem('key');\r\n                    const parsedData = JSON.parse(storedData);\r\n                    \r\n\r\n                    //setAuthToken(token);\r\n                    console.log(\"This is the token\" + storedData);\r\n\r\n                    alert(\"Token is now set to - > \" + parsedData);\r\n\r\n                    window.location.href = '/';\r\n\r\n                    console.log(JSON.stringify(response.data));\r\n                   \r\n                    Cookies.set('token', token, { expires: 7, secure: true });\r\n                   // console.log(\"token is being set\");\r\n                } else {\r\n                    console.log(\"Incorrect User credentials\");\r\n                }\r\n                \r\n                \r\n            }catch(error){ console.log(\"could not post the login API\");\r\n            }   \r\n            //console.log(\"Sign in Successful\" + response.data);\r\n            console.log(\"Api Works\");\r\n\r\n            //console.log(response.data);\r\n        }\r\n\r\n    return(\r\n        <div className=\"container bodyContainer\"> \r\n            <div className=\"center\">   \r\n                <div>\r\n                    <h6> If you do have account, Please <a href=\"#\"> Sign up </a></h6>\r\n                    <hr />\r\n                </div>\r\n                <div class=\"loginForm\">\r\n                    <form onSubmit={handleSubmit}> \r\n                        \r\n                            <label> Email address \r\n                                {/*<Form.Control onChange={this.handleChange} type=\"text\" placeholder=\"Enter your name\" />*/}\r\n                            <input onChange={handleChange} name=\"email\" value={formData.email}\r\n                                type=\"email\" placeholder=\"Enter your email address\" \r\n                            />\r\n                            </label>\r\n                    \r\n\r\n                        \r\n                            <label> Password\r\n                                {/*<Form.Control onChange={this.handleChange} type=\"text\" placeholder=\"Enter your name\" />*/}\r\n                            <input onChange={handleChange} value={formData.password} \r\n                                type=\"password\" name=\"password\" placeholder=\"Enter your password\" \r\n                            />\r\n                            </label>\r\n                        \r\n\r\n                        <button  type=\"submit\" className=\"btn btn-lg btn-success \">  Login </button>\r\n                    </form>\r\n                </div>\r\n                <div className=\"otherSignIn\"> \r\n                    <hr />\r\n                    <div className=\"loginRow\">\r\n                        <img className=\"loginIcons\" src={googleIcon} alt=\"Logo\"  />\r\n                         <span className=\"contGoogle\"> Continue with Google </span>\r\n                    </div>\r\n                   {/* <div className=\"loginRow\">\r\n                       <img className=\"loginIcons\" src={facebookIcon} alt=\"Logo\" /> \r\n                       <p> Continue with Facebook </p>\r\n                    </div>*/}        \r\n                    \r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <h6> <a href=\"#\"> Forgot Password? </a></h6>\r\n                        This site is protected by reCAPTCHA and the\r\n                         Google <a href=\"#\" className=\"googleTerms\"> Privacy Policy </a> and <a href=\"\" className=\"googleTerms\">Terms of Service \r\n                         apply.</a>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}